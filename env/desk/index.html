<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Untitled Document</title>
        <style>
            canvas {
                border: 1px solid black;
            }
        </style>
    </head>

    <body>
        <canvas id="theone"></canvas>
        <script type="module">
			import * as DESK from './desk.js';
            async function begin() {
                await DESK.loadImages();
                DESK.objects.push({
                    image: DESK.images.smoker,
                    x: 100 * window.devicePixelRatio,
                    y: 100 * window.devicePixelRatio
                });
                DESK.objects.push({
                    image: DESK.images.smoker,
                    x: 150 * window.devicePixelRatio,
                    y: 100 * window.devicePixelRatio
                });
                DESK.objects.push({
                    image: DESK.images.smoker,
                    x: 150 * window.devicePixelRatio,
                    y: 100 * window.devicePixelRatio
                });
				
				let canvas = document.getElementById('theone');
				
				canvas.style.width = '500px';
				canvas.style.height = '600px';
				canvas.width = 500 * window.devicePixelRatio;
				canvas.height = 600 * window.devicePixelRatio;
				
                DESK.setCanvas(canvas);
				theloop();
            } begin();
			
			function theloop() {
				DESK.draw();
				window.requestAnimationFrame(theloop);
			}
        </script>
    </body>
</html>
