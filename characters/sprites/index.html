<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Sprite Test</title>
        <style>
            canvas {
                border: 1px solid black;
            }
        </style>
    </head>

    <body>
        <canvas></canvas>
        <!-- Draw a grid of random sprites via random-sprite.js (outdated) -->
        <script type="module">
            import * as SPRITES from './sprite.js';
          
            import * as WARDROBE from './wardrobe.js';
            console.log(WARDROBE.getWardrobe({}));
          
            import {randomSprite} from './random-sprite.js';

            let canvas = document.getElementsByTagName('canvas')[0];
            canvas.style.width = '500px';
            canvas.style.height = '500px';
            canvas.width = 500 * window.devicePixelRatio;
            canvas.height = 500 * window.devicePixelRatio;
            let ctx = canvas.getContext('2d');
            ctx.imageSmoothingEnabled = false;
            ctx.scale(window.devicePixelRatio, window.devicePixelRatio);

            SPRITES.loadImages().then(function () {
                for (let i = 0; i < canvas.width; i += 50) {
                    for (let j = 0; j < canvas.height; j += 50) {
                        ctx.drawImage(SPRITES.getSprite(randomSprite(), true), i, j, 49, 49);
                    }
                }
            });
        </script>
    </body>
</html>
